var docu=function(t){"use strict";var e="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,r=e||n||Function("return this")(),o=r.Symbol,i=Object.prototype,u=i.hasOwnProperty,a=i.toString,c=o?o.toStringTag:void 0;var s=Object.prototype.toString;var f="[object Null]",l="[object Undefined]",h=o?o.toStringTag:void 0;function p(t){return null==t?void 0===t?l:f:h&&h in Object(t)?function(t){var e=u.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o}(t):function(t){return s.call(t)}(t)}function d(t){return null!=t&&"object"==typeof t}var v="[object Symbol]";function b(t){return"symbol"==typeof t||d(t)&&p(t)==v}function y(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var g=Array.isArray,_=o?o.prototype:void 0,j=_?_.toString:void 0;function m(t){if("string"==typeof t)return t;if(g(t))return y(t,m)+"";if(b(t))return j?j.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var w=/\s/;var O=/^\s+/;function S(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&w.test(t.charAt(e)););return e}(t)+1).replace(O,""):t}function A(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var z=NaN,P=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,E=/^0o[0-7]+$/i,F=parseInt;var N=1/0,C=17976931348623157e292;function k(t){return t?(t=function(t){if("number"==typeof t)return t;if(b(t))return z;if(A(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=A(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=S(t);var n=x.test(t);return n||E.test(t)?F(t.slice(2),n?2:8):P.test(t)?z:+t}(t))===N||t===-N?(t<0?-1:1)*C:t==t?t:0:0===t?t:0}function V(t){return t}var $="[object AsyncFunction]",D="[object Function]",M="[object GeneratorFunction]",T="[object Proxy]";function L(t){if(!A(t))return!1;var e=p(t);return e==D||e==M||e==$||e==T}var B,I=r["__core-js_shared__"],R=(B=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"";var U=Function.prototype.toString;function q(t){if(null!=t){try{return U.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var W=/^\[object .+?Constructor\]$/,G=Function.prototype,H=Object.prototype,J=G.toString,K=H.hasOwnProperty,Q=RegExp("^"+J.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function X(t){return!(!A(t)||(e=t,R&&R in e))&&(L(t)?Q:W).test(q(t));var e}function Y(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return X(n)?n:void 0}var Z=Y(r,"WeakMap");var tt=function(){try{var t=Y(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function et(t){return t!=t}var nt=9007199254740991,rt=/^(?:0|[1-9]\d*)$/;function ot(t,e){var n=typeof t;return!!(e=null==e?nt:e)&&("number"==n||"symbol"!=n&&rt.test(t))&&t>-1&&t%1==0&&t<e}function it(t,e){return t===e||t!=t&&e!=e}var ut=9007199254740991;function at(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ut}function ct(t){return null!=t&&at(t.length)&&!L(t)}var st=Object.prototype;function ft(t){return d(t)&&"[object Arguments]"==p(t)}var lt=Object.prototype,ht=lt.hasOwnProperty,pt=lt.propertyIsEnumerable,dt=ft(function(){return arguments}())?ft:function(t){return d(t)&&ht.call(t,"callee")&&!pt.call(t,"callee")};var vt="object"==typeof t&&t&&!t.nodeType&&t,bt=vt&&"object"==typeof module&&module&&!module.nodeType&&module,yt=bt&&bt.exports===vt?r.Buffer:void 0,gt=(yt?yt.isBuffer:void 0)||function(){return!1},_t={};_t["[object Float32Array]"]=_t["[object Float64Array]"]=_t["[object Int8Array]"]=_t["[object Int16Array]"]=_t["[object Int32Array]"]=_t["[object Uint8Array]"]=_t["[object Uint8ClampedArray]"]=_t["[object Uint16Array]"]=_t["[object Uint32Array]"]=!0,_t["[object Arguments]"]=_t["[object Array]"]=_t["[object ArrayBuffer]"]=_t["[object Boolean]"]=_t["[object DataView]"]=_t["[object Date]"]=_t["[object Error]"]=_t["[object Function]"]=_t["[object Map]"]=_t["[object Number]"]=_t["[object Object]"]=_t["[object RegExp]"]=_t["[object Set]"]=_t["[object String]"]=_t["[object WeakMap]"]=!1;var jt,mt="object"==typeof t&&t&&!t.nodeType&&t,wt=mt&&"object"==typeof module&&module&&!module.nodeType&&module,Ot=wt&&wt.exports===mt&&e.process,St=function(){try{var t=wt&&wt.require&&wt.require("util").types;return t||Ot&&Ot.binding&&Ot.binding("util")}catch(t){}}(),At=St&&St.isTypedArray,zt=At?(jt=At,function(t){return jt(t)}):function(t){return d(t)&&at(t.length)&&!!_t[p(t)]},Pt=Object.prototype.hasOwnProperty;function xt(t,e){var n=g(t),r=!n&&dt(t),o=!n&&!r&&gt(t),i=!n&&!r&&!o&&zt(t),u=n||r||o||i,a=u?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var s in t)!Pt.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ot(s,c))||a.push(s);return a}function Et(t,e){return function(n){return t(e(n))}}var Ft=Et(Object.keys,Object),Nt=Object.prototype.hasOwnProperty;function Ct(t){if(n=(e=t)&&e.constructor,e!==("function"==typeof n&&n.prototype||st))return Ft(t);var e,n,r=[];for(var o in Object(t))Nt.call(t,o)&&"constructor"!=o&&r.push(o);return r}function kt(t){return ct(t)?xt(t):Ct(t)}var Vt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$t=/^\w*$/;function Dt(t,e){if(g(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!b(t))||($t.test(t)||!Vt.test(t)||null!=e&&t in Object(e))}var Mt=Y(Object,"create");var Tt=Object.prototype.hasOwnProperty;var Lt=Object.prototype.hasOwnProperty;function Bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t,e){for(var n=t.length;n--;)if(it(t[n][0],e))return n;return-1}Bt.prototype.clear=function(){this.__data__=Mt?Mt(null):{},this.size=0},Bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Bt.prototype.get=function(t){var e=this.__data__;if(Mt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Tt.call(e,t)?e[t]:void 0},Bt.prototype.has=function(t){var e=this.__data__;return Mt?void 0!==e[t]:Lt.call(e,t)},Bt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Mt&&void 0===e?"__lodash_hash_undefined__":e,this};var Rt=Array.prototype.splice;function Ut(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ut.prototype.clear=function(){this.__data__=[],this.size=0},Ut.prototype.delete=function(t){var e=this.__data__,n=It(e,t);return!(n<0)&&(n==e.length-1?e.pop():Rt.call(e,n,1),--this.size,!0)},Ut.prototype.get=function(t){var e=this.__data__,n=It(e,t);return n<0?void 0:e[n][1]},Ut.prototype.has=function(t){return It(this.__data__,t)>-1},Ut.prototype.set=function(t,e){var n=this.__data__,r=It(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var qt=Y(r,"Map");function Wt(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Gt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gt.prototype.clear=function(){this.size=0,this.__data__={hash:new Bt,map:new(qt||Ut),string:new Bt}},Gt.prototype.delete=function(t){var e=Wt(this,t).delete(t);return this.size-=e?1:0,e},Gt.prototype.get=function(t){return Wt(this,t).get(t)},Gt.prototype.has=function(t){return Wt(this,t).has(t)},Gt.prototype.set=function(t,e){var n=Wt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Ht="Expected a function";function Jt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Ht);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(Jt.Cache||Gt),n}Jt.Cache=Gt;var Kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qt=/\\(\\)?/g,Xt=function(t){var e=Jt(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Kt,(function(t,n,r,o){e.push(r?o.replace(Qt,"$1"):n||t)})),e}));function Yt(t,e){return g(t)?t:Dt(t,e)?[t]:Xt(function(t){return null==t?"":m(t)}(t))}function Zt(t){if("string"==typeof t||b(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function te(t,e){for(var n=0,r=(e=Yt(e,t)).length;null!=t&&n<r;)t=t[Zt(e[n++])];return n&&n==r?t:void 0}var ee=Et(Object.getPrototypeOf,Object),ne="[object Object]",re=Function.prototype,oe=Object.prototype,ie=re.toString,ue=oe.hasOwnProperty,ae=ie.call(Object);function ce(t){if(!d(t)||p(t)!=ne)return!1;var e=ee(t);if(null===e)return!0;var n=ue.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ie.call(n)==ae}var se=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var fe="\\ud800-\\udfff",le="["+fe+"]",he="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",pe="\\ud83c[\\udffb-\\udfff]",de="[^"+fe+"]",ve="(?:\\ud83c[\\udde6-\\uddff]){2}",be="[\\ud800-\\udbff][\\udc00-\\udfff]",ye="(?:"+he+"|"+pe+")"+"?",ge="[\\ufe0e\\ufe0f]?",_e=ge+ye+("(?:\\u200d(?:"+[de,ve,be].join("|")+")"+ge+ye+")*"),je="(?:"+[de+he+"?",he,ve,be,le].join("|")+")",me=RegExp(pe+"(?="+pe+")|"+je+_e,"g");function we(t){return function(t){return se.test(t)}(t)?function(t){return t.match(me)||[]}(t):function(t){return t.split("")}(t)}function Oe(t){var e=this.__data__=new Ut(t);this.size=e.size}Oe.prototype.clear=function(){this.__data__=new Ut,this.size=0},Oe.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Oe.prototype.get=function(t){return this.__data__.get(t)},Oe.prototype.has=function(t){return this.__data__.has(t)},Oe.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ut){var r=n.__data__;if(!qt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gt(r)}return n.set(t,e),this.size=n.size,this};var Se=Object.prototype.propertyIsEnumerable,Ae=Object.getOwnPropertySymbols,ze=Ae?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}(Ae(t),(function(e){return Se.call(t,e)})))}:function(){return[]};function Pe(t){return function(t,e,n){var r=e(t);return g(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,kt,ze)}var xe=Y(r,"DataView"),Ee=Y(r,"Promise"),Fe=Y(r,"Set"),Ne="[object Map]",Ce="[object Promise]",ke="[object Set]",Ve="[object WeakMap]",$e="[object DataView]",De=q(xe),Me=q(qt),Te=q(Ee),Le=q(Fe),Be=q(Z),Ie=p;(xe&&Ie(new xe(new ArrayBuffer(1)))!=$e||qt&&Ie(new qt)!=Ne||Ee&&Ie(Ee.resolve())!=Ce||Fe&&Ie(new Fe)!=ke||Z&&Ie(new Z)!=Ve)&&(Ie=function(t){var e=p(t),n="[object Object]"==e?t.constructor:void 0,r=n?q(n):"";if(r)switch(r){case De:return $e;case Me:return Ne;case Te:return Ce;case Le:return ke;case Be:return Ve}return e});var Re=r.Uint8Array;function Ue(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gt;++e<n;)this.add(t[e])}function qe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}Ue.prototype.add=Ue.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ue.prototype.has=function(t){return this.__data__.has(t)};var We=1,Ge=2;function He(t,e,n,r,o,i){var u=n&We,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var s=i.get(t),f=i.get(e);if(s&&f)return s==e&&f==t;var l=-1,h=!0,p=n&Ge?new Ue:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var d=t[l],v=e[l];if(r)var b=u?r(v,d,l,e,t,i):r(d,v,l,t,e,i);if(void 0!==b){if(b)continue;h=!1;break}if(p){if(!qe(e,(function(t,e){if(u=e,!p.has(u)&&(d===t||o(d,t,n,r,i)))return p.push(e);var u}))){h=!1;break}}else if(d!==v&&!o(d,v,n,r,i)){h=!1;break}}return i.delete(t),i.delete(e),h}function Je(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Ke(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Qe=1,Xe=2,Ye="[object Boolean]",Ze="[object Date]",tn="[object Error]",en="[object Map]",nn="[object Number]",rn="[object RegExp]",on="[object Set]",un="[object String]",an="[object Symbol]",cn="[object ArrayBuffer]",sn="[object DataView]",fn=o?o.prototype:void 0,ln=fn?fn.valueOf:void 0;var hn=1,pn=Object.prototype.hasOwnProperty;var dn=1,vn="[object Arguments]",bn="[object Array]",yn="[object Object]",gn=Object.prototype.hasOwnProperty;function _n(t,e,n,r,o,i){var u=g(t),a=g(e),c=u?bn:Ie(t),s=a?bn:Ie(e),f=(c=c==vn?yn:c)==yn,l=(s=s==vn?yn:s)==yn,h=c==s;if(h&&gt(t)){if(!gt(e))return!1;u=!0,f=!1}if(h&&!f)return i||(i=new Oe),u||zt(t)?He(t,e,n,r,o,i):function(t,e,n,r,o,i,u){switch(n){case sn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case cn:return!(t.byteLength!=e.byteLength||!i(new Re(t),new Re(e)));case Ye:case Ze:case nn:return it(+t,+e);case tn:return t.name==e.name&&t.message==e.message;case rn:case un:return t==e+"";case en:var a=Je;case on:var c=r&Qe;if(a||(a=Ke),t.size!=e.size&&!c)return!1;var s=u.get(t);if(s)return s==e;r|=Xe,u.set(t,e);var f=He(a(t),a(e),r,o,i,u);return u.delete(t),f;case an:if(ln)return ln.call(t)==ln.call(e)}return!1}(t,e,c,n,r,o,i);if(!(n&dn)){var p=f&&gn.call(t,"__wrapped__"),d=l&&gn.call(e,"__wrapped__");if(p||d){var v=p?t.value():t,b=d?e.value():e;return i||(i=new Oe),o(v,b,n,r,i)}}return!!h&&(i||(i=new Oe),function(t,e,n,r,o,i){var u=n&hn,a=Pe(t),c=a.length;if(c!=Pe(e).length&&!u)return!1;for(var s=c;s--;){var f=a[s];if(!(u?f in e:pn.call(e,f)))return!1}var l=i.get(t),h=i.get(e);if(l&&h)return l==e&&h==t;var p=!0;i.set(t,e),i.set(e,t);for(var d=u;++s<c;){var v=t[f=a[s]],b=e[f];if(r)var y=u?r(b,v,f,e,t,i):r(v,b,f,t,e,i);if(!(void 0===y?v===b||o(v,b,n,r,i):y)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var g=t.constructor,_=e.constructor;g==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(t),i.delete(e),p}(t,e,n,r,o,i))}function jn(t,e,n,r,o){return t===e||(null==t||null==e||!d(t)&&!d(e)?t!=t&&e!=e:_n(t,e,n,r,jn,o))}var mn=1,wn=2;function On(t){return t==t&&!A(t)}function Sn(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function An(t){var e=function(t){for(var e=kt(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,On(o)]}return e}(t);return 1==e.length&&e[0][2]?Sn(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var a=(u=n[o])[0],c=t[a],s=u[1];if(u[2]){if(void 0===c&&!(a in t))return!1}else{var f=new Oe;if(!jn(s,c,mn|wn,r,f))return!1}}return!0}(n,0,e)}}function zn(t,e){return null!=t&&e in Object(t)}function Pn(t,e){return null!=t&&function(t,e,n){for(var r=-1,o=(e=Yt(e,t)).length,i=!1;++r<o;){var u=Zt(e[r]);if(!(i=null!=t&&n(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&at(o)&&ot(u,o)&&(g(t)||dt(t))}(t,e,zn)}var xn=1,En=2;function Fn(t,e){return Dt(t)&&On(e)?Sn(Zt(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:te(t,e);return void 0===r?n:r}(n,t);return void 0===r&&r===e?Pn(n,t):jn(e,r,xn|En)}}function Nn(t){return Dt(t)?(e=Zt(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return te(e,t)}}(t);var e}function Cn(t){return"function"==typeof t?t:null==t?V:"object"==typeof t?g(t)?Fn(t[0],t[1]):An(t):Nn(t)}var kn=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),u=i.length;u--;){var a=i[++r];if(!1===e(o[a],a,o))break}return t};function Vn(t,e){return t&&kn(t,e,kt)}var $n,Dn=($n=Vn,function(t,e){if(null==t)return t;if(!ct(t))return $n(t,e);for(var n=t.length,r=-1,o=Object(t);++r<n&&!1!==e(o[r],r,o););return t});function Mn(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Tn(t,e){var n=!0;return Dn(t,(function(t,r,o){return n=!!e(t,r,o)})),n}var Ln="[object String]";function Bn(t){return"string"==typeof t||!g(t)&&d(t)&&p(t)==Ln}function In(t){return null==t?[]:function(t,e){return y(e,(function(e){return t[e]}))}(t,kt(t))}var Rn=Math.max;function Un(t,e,n,r){t=ct(t)?t:In(t),n=n?function(t){var e=k(t),n=e%1;return e==e?n?e-n:e:0}(n):0;var o=t.length;return n<0&&(n=Rn(o+n,0)),Bn(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var o=t.length,i=n+-1;++i<o;)if(e(t[i],i,t))return i;return-1}(t,et,n)}(t,e,n)>-1}function qn(t,e){var n={};return e=Cn(e),Vn(t,(function(t,r,o){!function(t,e,n){"__proto__"==e&&tt?tt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}(n,r,e(t,r,o))})),n}var Wn="[object Map]",Gn="[object Set]",Hn=o?o.iterator:void 0;function Jn(t){if(!t)return[];if(ct(t))return Bn(t)?we(t):function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);if(Hn&&t[Hn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Hn]());var e=Ie(t);return(e==Wn?Je:e==Gn?Ke:In)(t)}class Kn{constructor(t){this.children=t}isEmpty(){return 0===this.children.length}last(){return this.isEmpty()?null:this.children[this.children.length-1]}after(...t){if(this.isEmpty())if(this.previousNode)this.previousNode.after(...t);else{if(!this.parent)throw`Failed to insert dom node(s) after a fragment due to insufficient context:\n  dom nodes: ${t}.`;this.parent.append(...t)}else this.last().after(...t)}remove(){for(let t=0;t<this.children.length;t++)this.children[t].remove()}appendChild(t){const e=rr(t);this.after(or(e)),this.children.push(e)}}class Qn{constructor(){this.listeners=[]}listen(t){this.listeners.push(t)}send(...t){let e;for(e=0;e<this.listeners.length;e++)this.listeners[e](...t)}}class Xn{constructor(t){this.value=t,this.listener=new Qn}set(t){return this.value=t,this.listener.send(t),t}push(t){if(!g(this.value))throw"`push` can only be called on a State object whose value is an array";return this.value.push(t),this.listener.send(this.value),this.value}pop(t){if(!g(this.value))throw"`pop` can only be called on a State object whose value is an array";const e=this.value.pop();return this.listener.send(this.value),e}update(t){if(ce(this.value)||this.value instanceof Node)return er(this.value,t),this.listener.send(this.value),this.value;throw"`update` can only be called on a State object whose value is a plain obect or a DOM Node"}}function Yn(t){return e=In(t),n=t=>t instanceof Xn,(g(e)?Mn:Tn)(e,Cn(n));var e,n}class Zn{constructor(t,e){if(t instanceof Xn)this.mode="singleState",this.state=t;else{if(!Yn(t))throw"the first argument to dynamicValue must be either a State object or an object whose values are all State objects";if(!e)throw"multistate dynamic value requires a function";this.mode="multiState",this.states=t}this.modifierFn=e||(t=>t)}bindProperty(t,e){t[ar(e)]=this.currentValue(),this.onChange((n=>{t[ar(e)]=n}))}currentValue(){switch(this.mode){case"singleState":return this.modifierFn(this.state.value);case"multiState":return this.modifierFn(qn(this.states,"value"))}}onChange(t){switch(this.mode){case"singleState":this.singleStateOnChange(t);break;case"multiState":this.multiStateOnChange(t)}}singleStateOnChange(t){this.state.listener.listen((()=>t(this.currentValue())))}multiStateOnChange(t){const e=kt(this.states);let n,r,o;for(n=0;n<e.length;n++)r=e[n],o=this.states[r],o.listener.listen((()=>t(this.currentValue())))}}class tr{constructor(t){this.dynamicValue=t,this.node=rr(t.currentValue())}appendTo(t){cr(t,this.node),this.dynamicValue.onChange((t=>{this.replaceNode(rr(t))}))}replaceNode(t){if(this.node===t)return;const e=ir([t]);this.node.after(...e),this.node.remove(),this.node=t}}function er(t,e){if(!ce(e))throw"the second argument to assignProperties can only be assigned using a plain object";const n=kt(e);let r,o,i,u;for(r=0;r<n.length;r++)o=n[r],i=ar(o),u=e[o],"children"===o&&nr(t)?cr(t,u):ce(u)&&A(t[i])?er(t[i],u):u instanceof Zn?u.bindProperty(t,i):u instanceof Xn?new Zn(u).bindProperty(t,i):t[i]=u}function nr(t){return"function"==typeof t.appendChild}function rr(t){if(t instanceof Kn||t instanceof Node)return t;if(Bn(t))return document.createTextNode(t);if(ct(t))return new Kn(Jn(t).map(rr));throw"object in a child element context must be a docu Fragment, a string, a DOM Node, or an Array of such objects"}function or(t){if(t instanceof Kn)throw"docu Fragment object has no singular DOM node";if(g(t))throw"Array has no singular DOM node";return rr(t)}function ir(t){return t.map((t=>{const e=rr(t);return e instanceof Kn?ir(e.children):or(e)})).flat()}const ur=["onclick","onkeyup","onchange"];function ar(t){return Un(ur,t.toLowerCase())?t.toLowerCase():t}function cr(t,e){if(!nr(t))throw"parent object cannot be appended to";if(!((n=e)instanceof Node||Bn(n))&&ct(n)){const n=Jn(e);for(let e=0;e<n.length;e++)cr(t,n[e]);return}var n;if(e instanceof Zn)return void new tr(e).appendTo(t);if(e instanceof Xn)return void new tr(new Zn(e)).appendTo(t);const r=rr(e);if(r instanceof Kn){r.parent=t,r.previousNode=function(t){return t instanceof Node?t.childNodes[t.childNodes.length-1]:t instanceof Kn?t.last():void 0}(t);for(let e=0;e<r.children.length;e++)cr(t,r.children[e])}else t.appendChild(or(r))}function sr(t,e,...n){if(e||={},e.children=n,"function"==typeof t)return t(e);const r=document.createElement(t);return er(r,e),r}function fr({children:t}){return new Kn(t)}function lr(t,e){return new Zn(t,e)}const hr={append:cr,Listener:Qn,State:Xn,dynamicValue:lr,jsxEntity:sr,DocuFragment:fr,assignProperties:er};return"undefined"!=typeof window&&(window.docu=hr),"undefined"!=typeof module&&module.exports?module.exports=hr:void 0!==t&&(t.jsxEntity=sr,t.DocuFragment=fr,t.append=cr,t.Listener=Qn,t.State=Xn,t.dynamicValue=lr,t.assignProperties=er),t.DocuFragment=fr,t.Listener=Qn,t.State=Xn,t.append=cr,t.assignProperties=er,t.dynamicValue=lr,t.jsxEntity=sr,t}({});
